% arara: pdflatex
\documentclass[tikz]{standalone}
\usepackage{lmodern}
\usepackage{mathtools}
\usepackage{pgfplots}
\usepackage{siunitx}
\pgfplotsset{
    compat = 1.10,
    width = 90mm,
    height = 70mm,
    every axis/.append style={
        tick style = {color=black, semithick},
        minor tick style={thin},
        title style={font=\Large},
    },
    axis line style={semithick},
    every axis plot/.append style={%
        semithick,
    },
}
\makeatletter
\def\pgfplots@drawtickgridlines@INSTALLCLIP@onorientedsurf#1{}
\makeatother

\begin{document}

\pgfplotstableread{liquid/histogram-d.dat}\hist
\pgfplotstablegetelem{0}{0}\of\hist
\pgfmathsetmacro\mean{\pgfplotsretval}
\pgfplotstablegetelem{0}{1}\of\hist
\pgfmathsetmacro\stddev{\pgfplotsretval}
\pgfplotstablegetelem{1}{0}\of\hist
\pgfmathsetmacro\xmin{floor(\pgfplotsretval)-1}
\pgfmathsetmacro\xlo{\pgfplotsretval}
\pgfplotstablegetrowsof{\hist}
\pgfmathsetmacro\lastrow{int(\pgfplotsretval-1)}
\pgfplotstablegetelem{\lastrow}{0}\of\hist
\pgfmathsetmacro\xhi{\pgfplotsretval}
\pgfmathsetmacro\xmax{ceil(\pgfplotsretval)+1}

\pgfmathdeclarefunction{gauss}{2}{%
  \pgfmathparse{1/(#2*sqrt(2*pi))*exp(-((x-#1)^2)/(2*#2^2))}%
}


\begin{tikzpicture}
\begin{axis}[
    xmax=\xmax, xmin=\xmin,
    ymin=-0.02, ymax=0.25,
    xtick={670,675,...,710},
    xlabel={Temperature, \si{\kelvin}},
    ylabel={Relative Frequency},
    yticklabel style={/pgf/number format/.cd, fixed, precision=2},
    minor x tick num=4,
    minor y tick num=4,
    axis x line*=bottom,
    axis y line*=left,
]
\addplot[blue, mark=none, fill=blue!30!white, ybar interval, area legend] table[x index=0, y index=1, skip first n=1] {liquid/histogram-d.dat};
\addlegendentry{Histogram}
\addplot+[no markers,samples=100, line legend] expression[domain=\xlo:\xhi] {gauss(\mean, \stddev)};
\addlegendentry{$\mathcal{N}(\mu=\pgfmathprintnumber[precision=0]{\mean} \si{\kelvin}, \sigma=\pgfmathprintnumber[precision=2,fixed zerofill]{\stddev} \si{\kelvin})$}
\end{axis}
\end{tikzpicture}
\end{document}
